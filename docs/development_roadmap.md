# AuraWell 开发路线图

## 项目里程碑

### Phase I: 基础通路打通 (Week 1-2)

**目标**: 建立基础架构，实现核心通信通路

#### FE团队 (前端开发)
- [ ] 搭建Vue 3 + Vite + TypeScript项目架构
- [ ] 实现聊天界面骨架和Mock流式渲染
- [ ] 配置Pinia状态管理和路由系统
- [ ] 集成WebSocket客户端和基础认证
- [ ] 实现家庭成员切换组件 (Mock数据)

#### CLOUD团队 (云基础设施)
- [ ] 开通阿里云服务 (FC, API Gateway, RDS, OSS等)
- [ ] 部署HelloWorld函数和WebSocket通道
- [ ] 配置JWT认证和基础权限验证
- [ ] 设置CI/CD流水线 (GitHub Actions + Serverless Devs)
- [ ] 建立最小权限RAM策略

#### AI团队 (Agent开发)
- [ ] 集成DeepSeek客户端，实现基础对话
- [ ] 设计Prompt模板和五模块输出格式
- [ ] 实现固定回复的健康建议生成
- [ ] 配置LangChain Agent基础架构
- [ ] 设计ConversationBufferMemory机制

#### AI+DX团队 (数据内容)
- [ ] 收集和整理健康知识文献
- [ ] 准备种子用户数据和家庭档案
- [ ] 创建基础测试用例和Mock数据
- [ ] 设计健康指标计算公式

**交付成果**:
- 前端聊天界面可以发送消息
- WebSocket连接成功，收到固定AI回复
- JWT认证流程完整
- 基础云服务部署完成

---

### Phase II: 核心功能成型 (Week 3-4)

**目标**: 实现主要业务功能，集成RAG和家庭权限

#### FE团队
- [ ] 实现真实API接口对接
- [ ] 完成家庭仪表盘首版UI
- [ ] 实装权限控制和成员管理
- [ ] 完善登录注册流程
- [ ] 集成ECharts健康数据可视化

#### CLOUD团队
- [ ] 完善数据库表结构 (users, families, members, acl等)
- [ ] 部署OpenSearch Vector实例
- [ ] 配置RAG知识检索服务
- [ ] 设置健康数据同步定时任务
- [ ] 实现基础监控和日志收集

#### AI团队
- [ ] 集成三大工具链 (UserProfileLookup, CalcMetrics, SearchKnowledge)
- [ ] 实现RAG知识检索和文献引用
- [ ] 完善五模块健康建议生成
- [ ] 加入输出完整性校验机制
- [ ] 优化Prompt和减少幻觉

#### AI+DX团队
- [ ] 完成向量库首批文献导入
- [ ] 验证RAG检索效果和准确性
- [ ] 扩充功能测试用例覆盖
- [ ] 建立健康数据质量检查

**交付成果**:
- AI能基于用户档案生成个性化建议
- 家庭权限体系正常运行
- RAG检索返回相关健康知识
- 前端展示五模块结构化健康建议

---

### Phase III: 完善与优化 (Week 5-6)

**目标**: 系统优化，性能调优，准备生产环境

#### FE团队
- [ ] 实现健康报告页面和图表交互
- [ ] 完善家庭挑战和互动功能
- [ ] 优化WebSocket重连和错误处理
- [ ] 进行用户体验测试和界面优化
- [ ] 实现PWA和移动端适配

#### CLOUD团队
- [ ] 配置生产环境监控告警
- [ ] 实现灰度发布和流量控制
- [ ] 优化函数冷启动时间
- [ ] 完善备份和灾难恢复方案
- [ ] 进行压力测试和性能调优

#### AI团队
- [ ] 加入异常捕获和主动关怀逻辑
- [ ] 优化对话记忆和上下文管理
- [ ] 实现多轮对话的策略调整
- [ ] 完善Agent决策链的可解释性
- [ ] 进行模型效果评估和优化

#### AI+DX团队
- [ ] 定期更新知识库内容
- [ ] 验证健康建议的医学准确性
- [ ] 完善自动化测试覆盖率
- [ ] 编写用户使用手册和文档

**交付成果**:
- 完整的生产环境系统
- 稳定的性能和可靠性指标
- 完善的监控告警体系
- 用户友好的交互体验

---

## 团队角色分工

### 🎨 FE团队 (前端与联调)
**核心职责**: Vue.js前端开发和用户体验优化

**技术栈**: 
- Vue 3 + TypeScript + Pinia
- Tailwind CSS + Element Plus
- WebSocket + Axios
- ECharts + Markdown渲染

**关键任务**:
- 聊天主界面和流式输出体验
- 家庭成员管理和权限展示
- 健康数据可视化图表
- 登录注册和JWT管理
- 响应式设计和PWA

---

### ☁️ CLOUD团队 (云基础设施与RAG)
**核心职责**: 阿里云Serverless架构和RAG系统

**技术栈**:
- 阿里云FC + API Gateway + RDS
- OpenSearch Vector + OSS + SLS
- Serverless Devs + GitHub Actions
- Docker + 容器化部署

**关键任务**:
- Serverless架构设计和部署
- 数据库设计和迁移脚本
- RAG向量检索服务搭建
- CI/CD流水线和监控告警
- 成本优化和性能调优

---

### 🤖 AI团队 (Agent开发)
**核心职责**: LangChain Agent和DeepSeek集成

**技术栈**:
- LangChain + DeepSeek R1/V3
- Function Calling + ReAct模式
- Prompt Engineering
- 对话记忆和上下文管理

**关键任务**:
- Prompt模板设计和优化
- 工具链开发和集成
- 五模块健康建议生成
- 对话记忆和多轮交互
- Agent决策链优化

---

### 📊 AI+DX团队 (数据与内容)
**核心职责**: 健康知识库和测试验证

**技术栈**:
- 医学文献处理和向量化
- 健康数据模拟和测试
- Postman + pytest自动化测试
- 数据质量检查和验证

**关键任务**:
- 权威健康文献收集整理
- 向量化脚本和索引更新
- 种子数据和测试用例
- 功能测试和质量保证
- 用户文档和FAQ

---

## 接口契约规范

### 认证接口
```
POST /api/v1/auth/login
POST /api/v1/auth/register
POST /api/v1/auth/refresh
```

### 家庭管理接口
```
GET /api/v1/family/info
POST /api/v1/family/invite
PUT /api/v1/family/permissions
GET /api/v1/family/dashboard
```

### AI对话接口
```
WebSocket /chat
POST /api/v1/chat/history
GET /api/v1/chat/conversations
```

### 健康数据接口
```
POST /api/v1/health/sync
GET /api/v1/health/metrics/{member_id}
POST /api/v1/reports/generate
```

---

## 质量保证流程

### 代码审查
- 所有PR必须经过至少一位其他角色成员审查
- 代码风格检查 (ESLint/Prettier + PEP8/Black)
- 安全漏洞扫描和依赖检查
- 性能影响评估

### 测试策略
- **单元测试**: 覆盖率>80%
- **集成测试**: 核心业务流程
- **端到端测试**: 用户关键路径
- **性能测试**: 响应时间和并发

### 部署流程
- **开发环境**: 自动部署，实时反馈
- **测试环境**: 完整功能验证
- **预生产环境**: 灰度发布验证
- **生产环境**: 蓝绿部署，快速回滚

---

## 风险管控

### 技术风险
- **DeepSeek API限流**: 准备备用模型和降级策略
- **向量检索性能**: 设置合理超时和缓存机制
- **WebSocket连接稳定性**: 实现自动重连和状态恢复
- **数据库性能瓶颈**: 预设读写分离和索引优化

### 业务风险
- **健康建议准确性**: 多重验证和医学专家审核
- **用户隐私保护**: 严格权限控制和数据脱敏
- **家庭关系复杂性**: 灵活的权限配置和争议处理机制

### 成本风险
- **云服务费用控制**: 设置预算告警和资源监控
- **AI调用成本**: Token优化和缓存策略
- **存储成本**: 数据生命周期管理和压缩策略

---

## 成功指标

### 技术指标
- API响应时间P99 < 3秒
- 系统可用性 > 99.5%
- AI建议准确率 > 95%
- 错误率 < 0.1%

### 业务指标
- 日活用户增长率
- 对话完成率 > 80%
- 健康建议采纳率 > 60%
- 家庭互动参与度 > 40%

### 用户体验指标
- 用户满意度评分 > 4.5/5
- 功能发现率 > 70%
- 留存率: 7日>50%, 30日>30%
- NPS净推荐值 > 50 