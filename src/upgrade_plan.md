# 云服务器部署升级
**主要目标**：该项目能够被部署在ip地址为166.108.224.73的云服务上，并且客户端可以通过ip地址来访问正在服务器上运行的服务
## 环境配置
* Python: 3.10.18
* Nodejs: 18.18.2
* vue: latest
* conda env name: AuraWellPython310
密钥出存在根目录的.env文件中
## 任务要求
### 启用RAG模组
1. 要求在前端的健康助手模块中启用大模型问答及RAG检索服务
2. RAG和大模型的相关实现已经包含在项目文件中，请尽量使用已经存在的方法
### 创建启动脚本
测试完毕后，创建启动脚本
1. 要求能在Ubuntu22.04系统内运行
2. 要求放置在根目录
3. 要求启动时检测Python版本，Nodejs版本
4. 要求启动时检测Nginx服务，检测其是否正确运行
5. 要求检测8001和5173短裤是否被占用，如果被占用则终止占用端口的进程
## 验收标准
### 前端
创建一个selenium test，测试网页应用的各个模块是否能正常工作
* 测试用户名：test_user
* 测试密码：test_password
请使用测试用户名和密码登录
### 前后端交互
1. 要求用户在登录后能够正常与大模型对话
2. 要求用户在输入了以"/rag "开头的问询之后，启用RAG服务
3. 要求用户能在网页前端正确看到RAG服务的检索结果和大模型的回答
### 后端
1. 要求写一个unit test检测RAG模块的检索功能是否可以正常工作
2. 要求写一个unit test检测项目的大语言模型交互功能是否可以正常工作

# 网页应用部署测试
## 测试流程
使用测试账号测试所有的模块是否可用
### 测试账号
* username: test_user
* password: test_password
### 测试流程
你被建议使用selenium test 来完成这项任务，测试文件应当被放置于 /tests 文件夹内
1. 在入口界面使用测试账号登录网站
2. 尝试点击主界面上方的所有标签，测试它们是否可用
3. 进入健康助手模块，尝试与大模型进行测试对话
4. 在聊天界面输入"/rag 营养建议"，测试RAG功能是否可用
## 验收标准
1. 可以使用测试账号登录网站
2. 可以点击主界面上方的所有标签，且不会出现错误
3. 可以在健康助手模块中与大模型进行对话
4. 可以在聊天界面输入"/rag 营养建议"，且用户可以在网页中看到由RAG模块返回的输出
### 提示
* "/src/rag/RAGExtension.py"内部包含了所有RAG模块需要使用的核心方法，其中的retrieve_topK方法可以通过问询检索前k个相关字段
* 你可以使用位于"/scripts" 内部的启动脚本来启动前端和后端服务
* 建议使用火狐浏览器进行测试